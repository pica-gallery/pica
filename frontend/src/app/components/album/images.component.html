@if (sizing$|async;as sizing) {
  <cdk-virtual-scroll-viewport
    [itemSize]="sizing.rowSize" class="viewport"
    [ngStyle]="{'--row-height': sizing.rowSize + 'px'}">

    <div class="row" *cdkVirtualFor="let row of (rows$|async)">
      <app-album-row [items]="row.items" (mediaClicked)="mediaClicked.emit($event)"></app-album-row>
    </div>
  </cdk-virtual-scroll-viewport>
}
