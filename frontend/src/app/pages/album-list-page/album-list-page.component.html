@if (albumsState(); as albumsState) {
  @switch (albumsState.state) {
    @case ('loading') {
      <app-busy-full/>
    }
    @case ("success") {
      <app-album-list
        [albums]="albumsState.data.albums"
        [albumTree]="albumsState.data.tree"
        [initialScrollState]="scrollState.initial"
        (scrollChanged)="scrollState.update($event)"
      />
    }
    @case ("error") {
      <app-error-snackbar [errorState]="albumsState"/>
    }
  }
}
